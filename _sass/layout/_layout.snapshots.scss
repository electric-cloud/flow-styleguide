//================================================
//  Snapshots
//================================================

.snapshots-content {
  position: relative;
  width: 100%;
  overflow: hidden;

  .sds-table .empty-table {
    color: $snapshots-list-empty-color;
    background: $snapshots-list-empty-bg;
    height: 100px;
    width: 100%;
    &:hover {
      background: $snapshots-list-empty-bg-hover;
    }
    .txt {
      margin-top: 37px;
      line-height: 24px;
    }
  }

  .ec-col {
    .sds-icon {
      &.description {
        cursor: pointer;
      }
    }
    &.col-description {
      position: relative;
      .description-wrap {
        @include sds-ellipsis();
      }
    }
    .description-field {
      display: inline;
    }
    .at-snapshot-description-value {
      display: inline;
      vertical-align: middle;
    }
  }

  .ec-row.selected {
    .at-description-popover {
      color: $default-text-color;
    }
  }
}

.snapshots-content,
.environments-content,
.run-compare-modal {

  .snapshot-item-list {
    .empty {
      cursor: default;
    }
    .process-row .col-offset {
      width: $rowOffset;
    }
    .process-row.hidden {
      display: none;
    }
    .ec-col {
      .component2 {
        float: left;
        color: $appNotificationsAppIconColor;
        font-size: 19px;
        vertical-align: middle;
      }
      .view-processes {
        color: $appNotificationsProcessIconColor;
        font-size: 22px;
        vertical-align: middle;
      }
      .name-col {
        padding-left: 6px;
      }
      &.col-label {
        padding: 8px 6px 8px 12px;
      }
    }
  }
}

.sds-modal.run-compare-modal {
  @include sds-modal;
}

.snapshot-wizard {
  background-color: $snapshots-create-wizard-background;
  font-size: 18px;
  height: 580px;
  width: 730px;

  &.new-snapshot-wizard {
    width: 626px;
  }

  .main-row {
    margin: 0;
    padding-bottom: 30px;
    text-align: center;

    .text-overflow {
      display: inline-block;
      vertical-align: top;
    }
    .sds-icon.snapshot {
      color: $dark-blue;
    }
  }

  .heading {
    @include modal-header-text();
  }
  .ec-wizard-content {
    .ec-wizard-head {
      text-align: center;
      .ec-wizard-title {
        margin: 0;
      }

      .sds-icon {
        line-height: 44px;
        width: 42px;

        &.arrow-back {
          position: absolute;
          left: 0;
          top: 0;
        }
      }
    }
  }


  .ec-wizard-body {
    .create-snapshot {
      border-bottom: 0;
      margin: 0;
      text-align: center;
    }
  }

  .ec-wizard-foot {
    height: 60px;
    min-height: 60px;

    .ec-wizard-button {
      height: 100%;
      line-height: 60px;
      width: 50%;
    }
  }

  .create-snapshot {
    .sds-input[type="text"],
    .sds-textarea {
      background-color: $input-bg;
      font-size: 18px;
      width: 334px;
    }

    .sds-input[type="text"] {
      height: 38px;
      margin-bottom: 10px;
      padding: 0 6px;
      text-align: left;

      @include placeholder {
        color: $snapshots-create-form-input-placeholder-color;
        text-align: left;
      }
    }

    .sds-textarea {
      height: 220px;
      padding-top: 10px;

      @include placeholder {
        color: $snapshots-create-form-input-placeholder-color;
        text-align: left;
      }
    }
  }

  .preview-snapshot {

    & > div:first-child {
      margin-top: 30px;
    }

    .info {
      border-bottom: 2px solid $default-border-dark;
    }

    .heading {
      line-height: 50px;
    }

    .current-application {
      font-size: 20px;

      .text-overflow {
        max-width: 300px;
        @include sds-ellipsis;
      }
    }

    .application {
      color: $snapshots-create-app-icon-color;
    }
  }

  .preview-snapshot-table {
    .head {
      font-weight: 500;
    }

    .list .cell {
      padding: 0 5px;
    }
  }

  .snapshot-components-list {
    width: 640px;

    .ec-table__cell--component {
      flex: 10;
    }

    .ec-table__cell--artifact {
      flex: 10;
    }

    .ec-table__cell--version {
      flex: 10;

      .version-info {
        cursor: pointer;
        display: inline-block;
      }

      .undeployed {
        margin-left: 5px;
      }
    }

    .ec-table__cell--expand {
      user-select: none;
      text-align: center;

      .toggler,
      .head-toggler {
        cursor: pointer;
      }
    }

    .sds-icon.dropdown {
      font-size: 8px;
    }

    .snapshot-component-processes-list {
      .ec-table__cell--process {
        flex: 2;
      }
    }
  }

  .artifact-version-popover.loading {
    .popover-arrow {
      border-bottom-color: $snapshots-create-loading-popover-background;
    }
  }
}

.snapshot-wizard-notification {
  .snapshot {
    font-size: 45px;
    vertical-align: middle;
    margin: 0 15px;
    float: left;
    margin-top: -3px;
  }
}



// snapshots compare
.snapshots-compare-view {
  position: relative;
  @include clearfix;
  overflow-x: hidden;
  overflow-y: auto;
  height: 100%;
}

.snapshots-lists {

  .ec-row {
    &.compare-snapshots-row {
      .col-offset {
        width: 0;
      }
      .col-component {
        flex: 40;
      }
      .col-artifact {
        flex: 30;
      }
      .col-version {
        flex: 30;
      }
    }

    &.compare-snapshots-process-row {
      padding-right: 8px;

      .col-process {
        flex: 50;
      }
      .col-revision {
        flex: 50;
      }
      .col-offset {
        width: 60px;
      }
      .col-proc-icon {
        padding-right: 0;
      }
    }
    &.compare-snapshots-head-row {
      .sds-icon {
        font-size: 12px;
        color: $black-icon;
        &.component2 {
          color: $black-icon;
          font-size: 14px;
          margin-right: 7px;
          float: none;
        }
        &.artifact {
          font-size: 14px;
          margin-right: 6px;
          vertical-align: 2px;
        }
        &.version {
          font-size: 14px;
          margin-right: 9px;
        }
        &.toggler {
          font-size: 27px;
        }
        &.view-processes {
          color: $black-icon;
          font-size: 18px;
        }
      }
    }
  }


  .list-container {
    float: left;
    width: 50%;
    .empty {
      text-align: center;
      font-size: 16px;
      line-height: 50px;
    }
    &:first-child .list-header {
      margin-right: 10px;
      margin-left: 20px;
    }

    &:first-child .ec-grid-primary {
      margin-right: 10px;
      margin-left: 20px;
    }
  }

  .list-header {
    cursor: default;
    margin: 0 20px 8px 10px;
    height: 50px;
    font-size: 18px;
    line-height: 32px;
    letter-spacing: 1px;
    font-weight: 200;
    position: relative;
    background-color: $table-row-bg;
    color: $snapshots-compare-list-header;

    .head-col {
      width: 50%;
      position: relative;
      padding: 8px;
      float: left;
      height: 50px;
      box-sizing: border-box;
    }

      .sds-icon.environment {
        font-size: 20px;
        position: absolute;
        top: 8px;
        left: 14px;
        color: $orange;
      }

    .select-snapshot {
      padding-left: 14px;
      .sds-icon.snapshot {
        font-size: 20px;
        position: absolute;
        top: 8px;
        left: 14px;
        color: $dark-blue;
      }
      .sds-icon.dropdown {
        font-size: 12px;
        margin-left: 5px;
        position: relative;
        cursor: pointer;
      }
      .snapshot-name {
        @include sds-ellipsis();
        margin: 0 0 0 34px;
        max-width: 75%;
        float: left;
      }
      &.disabled .dropdown {
        cursor: default;
        color: $chDisabledIconFont;
      }
    }
    .revision-date {
      text-align: right;
      @include sds-ellipsis();
      .sds-icon.version {
        margin-right: 5px;
      }
      .snapshot-revision {
        white-space: nowrap;
      }
    }
  }

  .col-change-alert {
    padding-left: 0;
    padding-right: 0;
    width: 26px;
  }

  .change-alert {
    display: none;
    position: absolute;
  }

  .col-component {
    padding-left: 18px;
  }

  .col-toggle {
    display: none;
    user-select: none;
  }

  .col-deleted {
    padding-left: 18px;
    display: none;
  }

  .ec-grid .ec-row {
    font-size: 14px;
    &.compare-snapshots-head-row {
      font-size: 18px;
    }
    &:hover {
      background-color: $table-row-bg;
    }

    &.highlighted {
      background: $snapshots-compare-list-row-highlihted;
    }

    &.hovered {
      background: $table-row-hover-bg;
    }

    &.ec-row--empty {
      .ec-col {
        display: none;
      }
      .col-offset {
        display: block;
      }
    }
  }

  .snapshot-origin-list {
    .ec-grid {
      margin-left: 10px;
    }
    .col-toggle {
      display: block;
      width: 36px;
    }
    .col-empty-alert {
      width: 0;
    }
    .ec-row.ec-row--empty {
      .col-toggle,
      .col-deleted {
        flex: 1;
        display: block;
      }
      .col-empty-alert {
        display: block;
        width: 34px;
        padding-right: 8px;
      }
      .col-empty-alert .change-alert {
        display: block;
      }
      &.compare-snapshots-process-row {
        .col-empty-alert {
          padding-right: 0;
          width: 26px;
        }
      }
    }
    .change-alert.show {
      display: block;
    }
  }

  .snapshot-compare-list {
    .ec-grid {
      margin-right: 10px;
    }
    .sds-icon.show {
      display: none;
    }
  }

  .sds-icon {
    color: $black-icon;

    &.toggler {
      cursor: pointer;
      font-size: 27px;
    }
    &.visible {
      display: block;
    }
  }
}

//TODO: refactor this styles. Move to base styles.
.sds-popover.snapshots-list-popover {

  &.loading ul {
    min-height: 56px;
  }

  ul {
    max-height: 250px;
    overflow-x: hidden;
    overflow-y: auto;
    width: 160px;
  }

  li {
    > a {
      padding: 0 5px;
    }
  }

  .top {
    &.popover-arrow,
    &.popover-arrow-border {
      border-color: transparent;
      border-style: solid;
      height: 0;
      line-height: 0;
      position: absolute;
      top: 0;
      width: 0;
    }

    &.popover-arrow {
      z-index: 1061;
      border-bottom-color: $popover-arrow-color;
      margin-top: -17px;
      margin-left: -17px;
      border-width: 0 17px 17px;
      left: 50%;
    }

    &.popover-arrow-border {
      z-index: 1060;
      border-bottom-color: $popover-arrow-border-color;
      margin-top: -20px;
      margin-left: -20px;
      border-width: 0 20px 20px;
      left: 50%;
    }
  }
  &.loading {
    .popover-arrow {
      border-bottom-color: $snapshots-create-loading-popover-background;
    }
  }
}

.inventory-compare-title {
  .sds-icon {
    cursor: default;
    &.application {
      color: $snapshots-create-app-icon-color;
    }
    &.environment {
      color: $envIconColor;
    }
    &.snapshot {
      color: $dark-blue;
    }
  }
}

.run-compare-modal {
  background: $default-bg-white;

  .switch {
    margin-bottom: 30px;
    padding-top: 25px;
  }

  .ec-wizard-head {
    .sds-icon {
      position: static;
      &.arrow-back {
        cursor: pointer;
        font-size: 20px;
        position: absolute;
        margin: 0 5px 0 10px;
        z-index: 1;
        left: 0;
      }
    }
  }

  .ec-wizard-title {
    display: none;
  }

  .ec-wizard-head-right-sub-view-container {
    float: none;
  }
}

.run-compare-header {
  position: relative;

  &__title {
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    max-width: 90%;
    margin: 0 auto;
    .col {
      max-width: 25%;
      display: inline-block;
      @include sds-ellipsis;
      vertical-align: top;
    }
    .sds-icon.application,
    .sds-icon.environment,
    .sds-icon.snapshot {
      display: inline;
    }
  }
  &__changes-count {
    position: absolute;
    top: 65px;
    right: 20px;
    font-size: 14px;
    font-weight: bold;
  }
  .snapshot-counter {
    .sds-icon {
      vertical-align: top;
      @include sds-icon-size(18px, 32px, 33px);
      color: $app-table-snapshot-btn-color;
      cursor: default;
    }
  }
  .sds-icon.application,
  .changes-count {
    color: $snapshots-create-app-icon-color;
  }
}
